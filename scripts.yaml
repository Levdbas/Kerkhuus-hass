bedroom_wakeup:
  alias: Wakker worden!
  sequence:
  - data:
      brightness: 1
      entity_id: light.philips_bloom
      rgb_color:
      - 241
      - 255
      - 217
    service: light.turn_on
  - delay:
      seconds: 1
  - data:
      brightness: 1
      entity_id: light.philips_bloom
      rgb_color:
      - 241
      - 255
      - 217
    service: light.turn_on
  - data_template:
      brightness: 255
      entity_id: light.philips_bloom
      transition: '{{ alarm_offset | multiply(60) }}'
    service: light.turn_on
  - delay:
      minutes: '{{ alarm_offset | int }}'
  - data:
      entity_id: media_player.slaapkamer
      volume_level: '.02'
    service: media_player.volume_set
  - data:
      entity_id: media_player.slaapkamer
      sleep_time: 1800
    service: sonos.set_sleep_timer
  - data:
      entity_id: media_player.slaapkamer
      shuffle: true
    service: media_player.shuffle_set
  - data:
      entity_id: media_player.slaapkamer
      source: Waking up with u
    service: media_player.select_source
  - delay:
      seconds: 15
  - data:
      entity_id: media_player.slaapkamer
      volume_level: '.03'
    service: media_player.volume_set
  - delay:
      seconds: 15
  - data:
      entity_id: media_player.slaapkamer
      volume_level: '.04'
    service: media_player.volume_set
  - delay:
      seconds: 15
  - data:
      entity_id: media_player.slaapkamer
      volume_level: '.05'
    service: media_player.volume_set
  - delay:
      seconds: 15
  - data:
      entity_id: media_player.slaapkamer
      volume_level: '.06'
    service: media_player.volume_set
  - delay:
      seconds: 15
  - data:
      entity_id: media_player.slaapkamer
      volume_level: '.07'
    service: media_player.volume_set
  - delay:
      seconds: 15
  - data:
      entity_id: media_player.slaapkamer
      volume_level: '.08'
    service: media_player.volume_set
  - delay:
      seconds: 15
  - data:
      entity_id: media_player.slaapkamer
      volume_level: '.09'
    service: media_player.volume_set
  # start delay before turning off the lights
  - delay:
        minutes: 30
  - service: light.turn_off
    entity_id: light.philips_bloom
